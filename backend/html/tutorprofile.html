<!DOCTYPE html>
<!--
Template Name: Midone - HTML Admin Dashboard Template
Author: Left4code
Website: http://www.left4code.com/
Contact: muhammadrizki@left4code.com
Purchase: https://themeforest.net/user/left4code/portfolio
Renew Support: https://themeforest.net/user/left4code/portfolio
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<html lang="en">
<!-- BEGIN: Head -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-auth.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-analytics.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script>
<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyAKjCWbm5PyASS6KObmWrP4qIKpPzlgj7g",
        authDomain: "tutor-3ninjas.firebaseapp.com",
        databaseURL: "https://tutor-3ninjas.firebaseio.com",
        projectId: "tutor-3ninjas",
        storageBucket: "tutor-3ninjas.appspot.com",
        messagingSenderId: "515288352926",
        appId: "1:515288352926:web:921039f2d794b8c0ee138f",
        measurementId: "G-Q172J837M9"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
</script>

<head>
    <meta charset="utf-8">
    <link href="dist/images/logo.svg" rel="shortcut icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Midone admin is super flexible, powerful, clean & modern responsive tailwind admin template with unlimited possibilities.">
    <meta name="keywords"
        content="admin template, Midone admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="LEFT4CODE">
    <title>導師 - 個人資料</title>
    <!-- BEGIN: CSS Assets-->
    <link rel="stylesheet" href="dist/css/app.css" />
    <!-- END: CSS Assets-->
</head>
<!-- END: Head -->

<body class="app">
    <!-- BEGIN: Mobile Menu -->
    <div class="mobile-menu md:hidden">
        <div class="mobile-menu-bar">
            <a href="" class="flex mr-auto">
                <img alt="Midone Tailwind HTML Admin Template" class="w-6" src="dist/images/logo.svg">
            </a>
            <a href="javascript:;" id="mobile-menu-toggler"> <i data-feather="bar-chart-2"
                    class="w-8 h-8 text-white transform -rotate-90"></i> </a>
        </div>
        <ul class="border-t border-theme-24 py-5 hidden">
            <li>
                <a href="home" class="menu">
                    <div class="menu__icon"> <i data-feather="home"></i> </div>
                    <div class="menu__title"> Home </div>
                </a>
            </li>
            <li>
                <a href="videohome" class="menu">
                    <div class="menu__icon"> <i data-feather="layout"></i> </div>
                    <div class="menu__title"> My Video </div>
                </a>
            </li>
            <li>
                <a href="testbank" class="menu">
                    <div class="menu__icon"> <i data-feather="activity"></i> </div>
                    <div class="menu__title"> Test Banks </div>
                </a>
            </li>
        </ul>
    </div>
    <!-- END: Mobile Menu -->
    <!-- BEGIN: Top Bar -->
    <div class="border-b border-theme-24 -mt-10 md:-mt-5 -mx-3 sm:-mx-8 px-3 sm:px-8 pt-3 md:pt-0 mb-10">
        <div class="top-bar-boxed flex items-center">
            <!-- BEGIN: Logo -->
            <a href="" class="-intro-x hidden md:flex">
                <img alt="Midone Tailwind HTML Admin Template" class="w-6" src="dist/images/logo.svg">
                <span class="text-white text-lg ml-3"> Mid<span class="font-medium">one</span> </span>
            </a>
            <!-- END: Logo -->
            <!-- BEGIN: Breadcrumb -->
            <div class="-intro-x breadcrumb breadcrumb--light mr-auto"> <a href="" class="">Application</a> <i
                    data-feather="chevron-right" class="breadcrumb__icon"></i> <a href=""
                    class="breadcrumb--active">Setting</a> </div>
            <!-- END: Breadcrumb -->
            <!-- BEGIN: Search -->
            <div class="intro-x relative mr-3 sm:mr-6">
                <div class="search hidden sm:block">
                    <input type="text" class="search__input input placeholder-theme-13" placeholder="Search...">
                    <i data-feather="search" class="search__icon"></i>
                </div>
                <a class="notification notification--light sm:hidden" href=""> <i data-feather="search"
                        class="notification__icon"></i> </a>
                <div class="search-result">
                    <div class="search-result__content">
                        <div class="search-result__content__title">Pages</div>
                        <div class="mb-5">
                            <a href="" class="flex items-center">
                                <div
                                    class="w-8 h-8 bg-theme-18 text-theme-9 flex items-center justify-center rounded-full">
                                    <i class="w-4 h-4" data-feather="inbox"></i> </div>
                                <div class="ml-3">Mail Settings</div>
                            </a>
                            <a href="" class="flex items-center mt-2">
                                <div
                                    class="w-8 h-8 bg-theme-17 text-theme-11 flex items-center justify-center rounded-full">
                                    <i class="w-4 h-4" data-feather="users"></i> </div>
                                <div class="ml-3">Users & Permissions</div>
                            </a>
                            <a href="" class="flex items-center mt-2">
                                <div
                                    class="w-8 h-8 bg-theme-14 text-theme-10 flex items-center justify-center rounded-full">
                                    <i class="w-4 h-4" data-feather="credit-card"></i> </div>
                                <div class="ml-3">Transactions Report</div>
                            </a>
                        </div>
                        <div class="search-result__content__title">Users</div>
                        <div class="mb-5">
                            <a href="" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                        src="dist/images/profile-13.jpg">
                                </div>
                                <div class="ml-3">John Travolta</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">
                                    johntravolta@left4code.com</div>
                            </a>
                            <a href="" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                        src="dist/images/profile-2.jpg">
                                </div>
                                <div class="ml-3">Russell Crowe</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">
                                    russellcrowe@left4code.com</div>
                            </a>
                            <a href="" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                        src="dist/images/profile-12.jpg">
                                </div>
                                <div class="ml-3">Al Pacino</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">
                                    alpacino@left4code.com</div>
                            </a>
                            <a href="" class="flex items-center mt-2">
                                <div class="w-8 h-8 image-fit">
                                    <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                        src="dist/images/profile-12.jpg">
                                </div>
                                <div class="ml-3">Kevin Spacey</div>
                                <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">
                                    kevinspacey@left4code.com</div>
                            </a>
                        </div>
                        <div class="search-result__content__title">Products</div>
                        <a href="" class="flex items-center mt-2">
                            <div class="w-8 h-8 image-fit">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/preview-4.jpg">
                            </div>
                            <div class="ml-3">Sony A7 III</div>
                            <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Photography</div>
                        </a>
                        <a href="" class="flex items-center mt-2">
                            <div class="w-8 h-8 image-fit">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/preview-13.jpg">
                            </div>
                            <div class="ml-3">Dell XPS 13</div>
                            <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">PC &amp; Laptop</div>
                        </a>
                        <a href="" class="flex items-center mt-2">
                            <div class="w-8 h-8 image-fit">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/preview-11.jpg">
                            </div>
                            <div class="ml-3">Sony A7 III</div>
                            <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Photography</div>
                        </a>
                        <a href="" class="flex items-center mt-2">
                            <div class="w-8 h-8 image-fit">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/preview-2.jpg">
                            </div>
                            <div class="ml-3">Samsung Galaxy S20 Ultra</div>
                            <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Smartphone &amp; Tablet
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <!-- END: Search -->
            <!-- BEGIN: Notifications -->
            <div class="intro-x dropdown relative mr-4 sm:mr-6">
                <div class="dropdown-toggle notification notification--light notification--bullet cursor-pointer"> <i
                        data-feather="bell" class="notification__icon"></i> </div>
                <div class="notification-content dropdown-box mt-8 absolute top-0 right-0 z-10 -mr-10 sm:mr-0">
                    <div class="notification-content__box dropdown-box__content box">
                        <div class="notification-content__title">Notifications</div>
                        <div class="cursor-pointer relative flex items-center ">
                            <div class="w-12 h-12 flex-none image-fit mr-1">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/profile-13.jpg">
                                <div
                                    class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white">
                                </div>
                            </div>
                            <div class="ml-2 overflow-hidden">
                                <div class="flex items-center">
                                    <a href="javascript:;" class="font-medium truncate mr-5">John Travolta</a>
                                    <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">05:09 AM</div>
                                </div>
                                <div class="w-full truncate text-gray-600">Lorem Ipsum is simply dummy text of the
                                    printing and typesetting industry. Lorem Ipsum has been the industry&#039;s standard
                                    dummy text ever since the 1500</div>
                            </div>
                        </div>
                        <div class="cursor-pointer relative flex items-center mt-5">
                            <div class="w-12 h-12 flex-none image-fit mr-1">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/profile-2.jpg">
                                <div
                                    class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white">
                                </div>
                            </div>
                            <div class="ml-2 overflow-hidden">
                                <div class="flex items-center">
                                    <a href="javascript:;" class="font-medium truncate mr-5">Russell Crowe</a>
                                    <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                </div>
                                <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is
                                    not simply random text. It has roots in a piece of classical Latin literature from
                                    45 BC, making it over 20</div>
                            </div>
                        </div>
                        <div class="cursor-pointer relative flex items-center mt-5">
                            <div class="w-12 h-12 flex-none image-fit mr-1">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/profile-12.jpg">
                                <div
                                    class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white">
                                </div>
                            </div>
                            <div class="ml-2 overflow-hidden">
                                <div class="flex items-center">
                                    <a href="javascript:;" class="font-medium truncate mr-5">Al Pacino</a>
                                    <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                </div>
                                <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is
                                    not simply random text. It has roots in a piece of classical Latin literature from
                                    45 BC, making it over 20</div>
                            </div>
                        </div>
                        <div class="cursor-pointer relative flex items-center mt-5">
                            <div class="w-12 h-12 flex-none image-fit mr-1">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/profile-12.jpg">
                                <div
                                    class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white">
                                </div>
                            </div>
                            <div class="ml-2 overflow-hidden">
                                <div class="flex items-center">
                                    <a href="javascript:;" class="font-medium truncate mr-5">Kevin Spacey</a>
                                    <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                </div>
                                <div class="w-full truncate text-gray-600">Contrary to popular belief, Lorem Ipsum is
                                    not simply random text. It has roots in a piece of classical Latin literature from
                                    45 BC, making it over 20</div>
                            </div>
                        </div>
                        <div class="cursor-pointer relative flex items-center mt-5">
                            <div class="w-12 h-12 flex-none image-fit mr-1">
                                <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                    src="dist/images/profile-3.jpg">
                                <div
                                    class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white">
                                </div>
                            </div>
                            <div class="ml-2 overflow-hidden">
                                <div class="flex items-center">
                                    <a href="javascript:;" class="font-medium truncate mr-5">Brad Pitt</a>
                                    <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                </div>
                                <div class="w-full truncate text-gray-600">Lorem Ipsum is simply dummy text of the
                                    printing and typesetting industry. Lorem Ipsum has been the industry&#039;s standard
                                    dummy text ever since the 1500</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END: Notifications -->
            <!-- BEGIN: Account Menu -->
            <div class="intro-x dropdown w-8 h-8 relative">
                <div class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in scale-110">
                    <img alt="Midone Tailwind HTML Admin Template" src="dist/images/profile-5.jpg">
                </div>
                <div class="dropdown-box mt-10 absolute w-56 top-0 right-0 z-20">
                    <div class="dropdown-box__content box bg-theme-38 text-white">
                        <div class="p-4 border-b border-theme-40">
                            <div class="font-medium">John Travolta</div>
                            <div class="text-xs text-theme-41">Frontend Engineer</div>
                        </div>
                        <div class="p-2">
                            <a href=""
                                class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">
                                <i data-feather="user" class="w-4 h-4 mr-2"></i> Profile </a>
                            <a href=""
                                class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">
                                <i data-feather="edit" class="w-4 h-4 mr-2"></i> Add Account </a>
                            <a href=""
                                class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">
                                <i data-feather="lock" class="w-4 h-4 mr-2"></i> Reset Password </a>
                            <a href=""
                                class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">
                                <i data-feather="help-circle" class="w-4 h-4 mr-2"></i> Help </a>
                        </div>
                        <div class="p-2 border-t border-theme-40">
                            <a onclick="logout()"
                                class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md">
                                <i data-feather="toggle-right" class="w-4 h-4 mr-2"></i> Logout </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END: Account Menu -->
        </div>
    </div>
    <!-- END: Top Bar -->
    <!-- BEGIN: Top Menu -->
    <nav class="top-nav">
        <ul>
            <li>
                <a href="home" class="top-menu">
                    <div class="top-menu__icon"> <i data-feather="home"></i> </div>
                    <div class="top-menu__title"> Home </div>
                </a>
            </li>


            <li>
                <a href="videohome" class="top-menu">
                    <div class="top-menu__icon"> <i data-feather="layout"></i> </div>
                    <div class="top-menu__title"> My Videos
                    </div>
                </a>

            </li>

            <li>
                <a href="testbank" class="top-menu ">
                    <div class="top-menu__icon"> <i data-feather="activity"></i> </div>
                    <div class="top-menu__title"> Test Banks
                    </div>
                </a>

            </li>
        </ul>
    </nav>
    <!-- END: Top Menu -->
    <!-- BEGIN: Content -->
    <div class="content">
        <div class="intro-y flex items-center mt-8">
            <h2 class="text-lg font-medium mr-auto">
                更新個人資料
            </h2>
        </div>
        <div class="grid grid-cols-12 gap-6">
            <!-- BEGIN: Profile Menu -->
            <div class="col-span-12 lg:col-span-4 xxl:col-span-3 flex lg:block flex-col-reverse">
                <div class="intro-y box mt-5">
                    <div class="relative flex items-center p-5">
                        <div class="w-12 h-12 image-fit">
                            <img alt="Midone Tailwind HTML Admin Template" class="rounded-full"
                                src="dist/images/profile-4.jpg">
                        </div>
                        <div class="ml-4 mr-auto">
                            <div id="shownamediv" class="font-medium text-base"></div>
                            <div id="showemaildiv" class="text-gray-600"></div>
                        </div>

                    </div>
                    <div class="p-5 border-t border-gray-200">
                        <a class="flex items-center text-theme-1 font-medium" href=""> <i data-feather="activity"
                                class="w-4 h-4 mr-2"></i> 個人資料 </a>
                        <!-- <a class="flex items-center mt-5" href=""> <i data-feather="box" class="w-4 h-4 mr-2"></i>
                            Account Settings </a>
                        <a class="flex items-center mt-5" href=""> <i data-feather="lock" class="w-4 h-4 mr-2"></i>
                            Change Password </a>
                        <a class="flex items-center mt-5" href=""> <i data-feather="settings" class="w-4 h-4 mr-2"></i>
                            User Settings </a> -->
                    </div>
                    <!-- <div class="p-5 border-t border-gray-200">
                        <a class="flex items-center" href=""> <i data-feather="activity" class="w-4 h-4 mr-2"></i> Email
                            Settings </a>
                        <a class="flex items-center mt-5" href=""> <i data-feather="box" class="w-4 h-4 mr-2"></i> Saved
                            Credit Cards </a>
                        <a class="flex items-center mt-5" href=""> <i data-feather="lock" class="w-4 h-4 mr-2"></i>
                            Social Networks </a>
                        <a class="flex items-center mt-5" href=""> <i data-feather="settings" class="w-4 h-4 mr-2"></i>
                            Tax Information </a>
                    </div> -->
                    <!-- <div class="p-5 border-t flex">
                        <button type="button" class="button button--sm block bg-theme-1 text-white">New Group</button>
                        <button type="button" class="button button--sm border text-gray-700 ml-auto">New Quick
                            Link</button>
                    </div> -->
                </div>
            </div>
            <!-- END: Profile Menu -->
            <div class="col-span-12 lg:col-span-8 xxl:col-span-9">
                <!-- BEGIN: Display Information -->
                <div class="intro-y box lg:mt-5">
                    <div class="flex items-center p-5 border-b border-gray-200">
                        <h2 class="font-medium text-base mr-auto">
                            顯示資料
                        </h2>
                    </div>
                    <div class="p-5">
                        <div class="grid grid-cols-12 gap-5">
                            <div class="col-span-12 xl:col-span-4">
                                <div class="border border-gray-200 rounded-md p-5">
                                    <div class="w-40 h-40 relative image-fit cursor-pointer zoom-in mx-auto">
                                        <img id="propicpreview" class="rounded-md" alt=""
                                            src="dist/images/profile-4.jpg">
                                        <div onclick="deletephoto()" title="Remove this profile photo?"
                                            class="tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-theme-6 right-0 top-0 -mr-2 -mt-2">
                                            <i data-feather="x" class="w-4 h-4"></i> </div>
                                    </div>
                                    <div class="w-40 mx-auto cursor-pointer relative mt-5">
                                        <button type="button"
                                            class="button w-full bg-theme-1 text-white">更換個人相片</button>
                                        <input id="propicupload" onchange="preview_image(event)" type="file"
                                            class="w-full h-full top-0 left-0 absolute opacity-0">
                                    </div>
                                </div>
                            </div>
                            <div class="col-span-12 xl:col-span-8">
                                <div>
                                    <label>顯示名稱</label>
                                    <input id="profile_displayname_input" type="text"
                                        class="input w-full border bg-gray-100 cursor-not-allowed mt-2"
                                        placeholder="Input text" value="" disabled>
                                </div>
                                <div class="mt-3">
                                    <label>地區</label>
                                    <div class="mt-2">
                                        <select class="select2 w-full" id="districtinput">
                                            <option value="0" selected disabled hidden>請選擇...</option>
                                            <option value="1">中西區</option>
                                            <option value="2">灣仔區</option>
                                            <option value="3">東區</option>
                                            <option value="4">南區</option>
                                            <option value="5">深水埗區</option>
                                            <option value="6">油尖旺區</option>
                                            <option value="7">九龍城區</option>
                                            <option value="8">黃大仙區</option>
                                            <option value="9">觀塘區</option>
                                            <option value="10">葵青區</option>
                                            <option value="11">荃灣區</option>
                                            <option value="12">屯門區</option>
                                            <option value="13">元朗區</option>
                                            <option value="14">北區</option>
                                            <option value="15">大埔區</option>
                                            <option value="16">沙田區</option>
                                            <option value="17">西貢區</option>
                                            <option value="18">離島區</option>
                                            <!-- <option selected disabled hidden>請選擇...</option> -->
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <label>自我介紹</label>
                                    <textarea id="introinput" class="input w-full border mt-2"
                                        placeholder="Intro"></textarea>
                                </div>
                                <div class="mt-3">
                                    <label>履歷</label>
                                    <form id="cvuploadform" action="/cvupload"
                                        class="dropzone border-gray-200 border-dashed input w-full border mt-2">
                                        <div class="fallback"> <input name="file" type="file" multiple /> </div>
                                        <div class="dz-message" data-dz-message>
                                            <div class="text-lg font-medium">Drop files here or click to upload.</div>
                                        </div>
                                    </form>
                                    <div id="showuploadarea"> </div>

                                </div>
                                <button onclick="savepart1()" type="button"
                                    class="button w-20 bg-theme-1 text-white mt-3">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END: Display Information -->

            </div>
        </div>
    </div>
    <!-- END: Content -->
    <!-- BEGIN: JS Assets-->


    <script src="dist/js/app.js"></script>

    <!-- END: JS Assets-->

    <script>
        var nowuser
        var alldistrict = ["中西區", "灣仔區", "東區", "南區", "深水埗區", "油尖旺區", "九龍城區", "黃大仙區", "觀塘區", "葵青區", "荃灣區", "屯門區", "元朗區",
            "北區", "大埔區", "沙田區", "西貢區", "離島區"
        ]


        function gendistricthtml(selectvalue) {
            var districthtml
            if (selectvalue == 0) {
                districthtml = '<option value="0" selected disabled hidden>請選擇...</option>';
            } else {
                districthtml = '<option value="0" disabled hidden>請選擇...</option>';
            }

            for (var j = 0; j < alldistrict.length; j++) {
                if (selectvalue == j + 1) {
                    districthtml += '<option selected value=' + (j + 1) + '>' + alldistrict[j] + '</option>'
                } else {
                    districthtml += '<option value=' + (j + 1) + '>' + alldistrict[j] + '</option>'
                }

            }
            document.getElementById('districtinput').innerHTML = districthtml
        }


        function logout() {
            firebase.auth().signOut().then(function () {
                // Sign-out successful.
                console.log('logout')
            }).catch(function (error) {
                // An error happened.
            });
        }

        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                nowuser = user
                // User is signed in.
                var displayName = user.displayName;
                var email = user.email;
                var emailVerified = user.emailVerified;
                var photoURL = user.photoURL;
                var isAnonymous = user.isAnonymous;
                var uid = user.uid;
                var providerData = user.providerData;
                // ...

                if (emailVerified) {

                } else {

                }


                if (photoURL) {
                    document.getElementById('propicpreview').src = 'awsdownload/' + photoURL
                }
                document.getElementById('profile_displayname_input').value = displayName
                // document.getElementById('profile_email_input').value = email
                document.getElementById('shownamediv').innerHTML = displayName
                document.getElementById('showemaildiv').innerHTML = email

                dbgetitem(uid, function (response) {
                    if (response != "{}") {
                        response = JSON.parse(response)
                        document.getElementById('introinput').value = response.Item.intro
                        console.log(response.Item.cv)
                        if (response.Item.cv) {
                            if (response.Item.cv.length > 0) {
                                document.getElementById('showuploadarea').innerHTML = 'uploaded'
                                document.getElementById('cvuploadform').hidden = true
                            }
                        }
                        gendistricthtml(parseInt(response.Item.district))
                    }
                })



                console.log(user)
            } else {
                // User is signed out.
                // ...
                window.location.href = "chooseside";
            }
        });

        function uploadfile(x, filename, callback) {
            var form = new FormData();
            form.append("myfile1", x, filename);
            var settings = {
                "url": "awsupload",
                "method": "POST",
                "timeout": 0,
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
            };

            $.ajax(settings).done(function (response) {
                callback(response)
            });
        }

        function preview_image(event) {
            var reader = new FileReader();
            reader.onload = function () {
                var output = document.getElementById('propicpreview');
                output.src = reader.result;
            }
            reader.readAsDataURL(event.target.files[0]);
            savephoto()
        }

        function dbsaveitem(itemdata, callback) {
            var form = new FormData();
            for (j in itemdata) {
                form.append(j, itemdata[j]);
            }
            var settings = {
                "url": "awscreatedata",
                "method": "POST",
                "timeout": 0,
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
            };

            $.ajax(settings).done(function (response) {
                console.log(response);
                if (callback) {
                    callback(response)
                }
            });
        }

        function dbgetitem(uid, callback) {
            var form = new FormData();
            var settings = {
                "url": "awsreaddata/" + uid,
                "method": "GET",
                "timeout": 0,
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
            };

            $.ajax(settings).done(function (response) {
                console.log(response);
                if (callback) {
                    callback(response)
                }
            });
        }

        function savephoto() {
            var mypropic = document.getElementById('propicupload')
            if (mypropic.files[0]) {
                uploadfile(mypropic.files[0],
                    nowuser.uid + '.' + mypropic.value.split('.')[1],
                    function (response) {
                        response = JSON.parse(response)

                        var user = firebase.auth().currentUser;
                        user.updateProfile({
                            photoURL: response.key
                        }).then(function () {
                            //photo updated
                            console.log('ok')
                        }).catch(function (error) {
                            // An error happened.
                            console.log(error)
                        });

                    })
            }
        }

        var allfileres = []

        function savepart1() {

            var introinput = document.getElementById("introinput").value
            var districtinput = document.getElementById('districtinput').value
            var allcvdata = allfileres.map(x => {
                return x.Key
            })
            var tempjson = {
                uid: nowuser.uid,
                intro: introinput,
                district: districtinput,
                cv: allcvdata
            }
            console.log(tempjson)
            dbsaveitem(tempjson, function (x) {
                alert('ok')
            })
        }



        function deletephoto() {
            document.getElementById('propicpreview').src = "dist/images/profile-4.jpg"
            var user = firebase.auth().currentUser;
            user.updateProfile({
                photoURL: ''
            }).then(function () {
                //photo updated
                console.log('ok')
            }).catch(function (error) {
                // An error happened.
                console.log(error)
            });

        }

        // select2-districtinput-container
    </script>
</body>

</html>